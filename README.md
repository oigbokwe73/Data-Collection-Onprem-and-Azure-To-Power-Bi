# Data-Collection-Onprem-and-Azure-To-Power-Bi
| **Azure Resource**          | **Detailed Case**                                                                                                                                                    | **Collection Logs for Power BI**                                                                                                         | **Category** | **Azure DevOps(CI/CD) with Terraform**                                                                                       | **Diagnostics Logs**                                                                                                    | **Development**                                                                                                           | **Maintenance**                                                                                                                                                     |
|-----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|--------------|-----------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Azure Function App**       | Used to trigger and execute custom code for processing logs, transforming data, and publishing to Event Hub or Azure SQL for further analysis.                         | Collects and transforms logs before sending structured data to EventHub or SQL for Power BI.                                              | Compute      | Deployed using Azure DevOps Pipelines to automate function deployment and scaling.                                           | Processes diagnostic logs from various services to filter and store in Event Hub or Azure SQL.                          | Used in dev environments to quickly process and debug logs.                                                               | Maintained by updating function code and monitoring for performance.                                                                                                 |
| **Azure Storage**            | Central storage solution for keeping log data, diagnostic outputs, and intermediate data processed by other Azure services.                                           | Stores raw log data for later processing and querying.                                                                                   | Storage      | Provisioned via Terraform in CI/CD pipelines to automate storage account creation and configuration.                        | Stores raw or processed diagnostic logs for further analysis.                                                            | Holds test log data for development purposes.                                                                            | Monitored for capacity and performance to ensure data storage limits are not exceeded.                                                                              |
| **Azure Blob Containers**    | Blob Containers are used to store large volumes of logs or backup data that can be queried or processed for reporting or troubleshooting.                              | Stores processed or raw logs which can be linked to Power BI for reporting.                                                              | Storage      | Created and managed with Terraform to dynamically store and process logs.                                                    | Stores diagnostic logs from applications, making them accessible for processing.                                         | Stores development logs and application output for analysis.                                                             | Checked for lifecycle management to automatically delete old logs.                                                                                                 |
| **Azure Storage File Share** | File Share stores persistent logs generated by services like MoveIt SFTP or application diagnostics, accessible by multiple services.                                 | Persistent logs from SFTP, available for querying through Azure Function or direct integration with Power BI.                             | Storage      | Configured via Terraform to provide file share access for SFTP servers or applications in automated deployment processes.    | Stores diagnostics logs from applications or infrastructure components for later querying.                                | Stores persistent development logs for testing and debugging purposes.                                                   | Monitored to ensure logs are accessible and storage is properly allocated.                                                                                          |
| **Virtual Network**          | Enables secure communication between Azure services and helps segment network traffic, ensuring resources are only accessible to authorized services or users.         | Provides secure routing and access control for log collection and report generation in Power BI.                                          | Networking   | Provisioned via Terraform scripts to configure secure network connectivity for CI/CD processes.                             | Manages diagnostic logs traffic between resources securely.                                                              | Used to isolate development traffic from production environments.                                                       | Monitored for secure network configuration and throughput.                                                                                                         |
| **User Defined Route Table** | Custom routing for virtual networks to direct log data traffic between resources or to restrict traffic flows for better security and network control.                 | Routes logs to appropriate storage or processing resources, ensuring smooth data flow for Power BI.                                      | Networking   | Deployed with Terraform to ensure routing rules are set in line with organizational policies.                                | Directs diagnostic logs traffic to appropriate resources for further processing.                                          | Configures routing specific to development environments.                                                                | Reviewed to ensure routes remain valid and secure over time.                                                                                                        |
| **Azure EventHub**           | Ingests large volumes of logs in real-time, supporting scalability for applications that generate significant amounts of diagnostic or transactional logs.            | Provides real-time log data ingestion, supporting near real-time reporting in Power BI dashboards.                                        | Messaging    | Configured using Terraform to automate setup of event hub for log ingestion.                                                 | Ingests diagnostic logs from various sources for real-time processing.                                                   | Ingests dev logs for real-time testing and validation.                                                                  | Maintained to handle high-volume log ingestion and scalability.                                                                                                     |
| **Azure SQL**                | Structured storage of log data, allowing complex queries and data analysis, serving as a reliable backend for reporting tools like Power BI.                          | Stores structured log data, enabling Power BI to directly query and visualize logs.                                                       | Database     | Automated using Terraform to provision SQL databases for log storage and querying.                                           | Stores diagnostic logs for easy access and analysis.                                                                     | Stores structured dev logs for further analysis.                                                                         | Monitored for performance and query efficiency.                                                                                                                     |
| **Power BI**                 | Power BI connects to data sources like Azure SQL to generate dashboards, visualizing log data trends, diagnostics, and business KPIs.                                | Generates reports and dashboards by querying structured data from Azure SQL or Blob storage.                                              | Analytics    | Integrated with Azure DevOps for continuous reporting updates using data connectors.                                         | Visualizes diagnostic logs trends and patterns in real-time or near-real-time.                                            | Connects to dev databases and datasets to create test reports.                                                           | Monitored to ensure dashboards are up-to-date and connected data sources are active.                                                                               | **Azure Resource**          | **Detailed Case**                                                                                                                                                           | **Collection Logs**                                                                                                                   | **Category** | **Azure DevOps (CI/CD) with Terraform**                                                                                            | **Diagnostics Logs**                                                                                                        | **Development**                                                                                                             | **Maintenance**                                                                                                                                                    |
|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|--------------|------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Azure Function App**       | Used to process and monitor logs from Blob Containers and queues, including message tracking, dead letter queue handling, and sending metrics to Event Hub or Azure SQL.     | Extracts logs from Blob Containers, processes messages from the Storage Queue, and handles DLQ message processing.                    | Compute      | Deployed using Azure DevOps Pipelines to automate the deployment of function triggers for queue, blob, and event processing.         | Logs execution details, message processing success/failure, queue time, retries, and error handling in real-time functions. | Developed to test processing of queue messages, retries, and monitoring dead letter queue messages for diagnostics.         | Maintained by regularly updating function code and monitoring performance logs to ensure timely message processing.                                                     |
| **Azure Storage**            | Stores raw logs, processed data, and message metadata captured from system integrations, such as incoming and outgoing messages and processing details for queues.           | Tracks the number of logs created, stores metadata for each processed message, and details for each file or message delivered.         | Storage      | Provisioned via Terraform for creating and managing blob containers and storage queues to store logs and message metadata.            | Stores diagnostic logs for message transmission, file creation, message processing failures, and tracking dead letter messages. | Holds logs and message processing details during the development phase for testing and debugging message handling.           | Monitored for storage limits and performance, with lifecycle management to delete old logs and ensure enough storage space is available.                                 |
| **Azure Blob Containers**    | Acts as the primary storage location for log files and raw message data. Logs number of files and logs created to track message flow and integration metrics.               | Tracks the number of logs created, size of logs, timestamps, and any exceptions during file processing and storage.                    | Storage      | Created and managed via Terraform to dynamically scale storage as more logs and message data are generated by the system.             | Logs creation, file processing status, error codes, and exceptions related to data ingestion and storage in blob containers. | Used during development to test log collection from integrated systems and verify the successful storage of message data.   | Managed by setting up alerting and monitoring to track storage thresholds, file integrity, and automatic cleanup policies.                                                |
| **Azure Storage Queue**      | Captures and processes messages for integration, tracks incoming messages, delivered messages, and messages sent to the Dead Letter Queue (DLQ) in case of failures.         | Captures details about received messages, delivered messages, and DLQ messages (e.g., message size, processing time, delivery status). | Messaging    | Provisioned using Terraform to automate queue creation, message routing, and DLQ setup for message retry and failure handling.       | Captures logs for message delivery success/failure, number of retries, and reasons for DLQ message routing.                 | Tests developed for message queue delivery, retries, and logging errors for undelivered messages or DLQ handling during integration. | Maintained by monitoring message queue length, message retries, and dead letter queue processing to ensure smooth operation and avoid bottlenecks.                         |
| **Azure Storage Queue DLQ**  | Handles messages that fail to process after multiple retries, storing them in the Dead Letter Queue (DLQ) for further investigation or reprocessing.                       | Logs the number of messages sent to the DLQ, reasons for failure, and the number of retries before the message is routed to the DLQ.    | Messaging    | DLQ is configured via Terraform, with policies to automatically route failed messages to the DLQ and log retry attempts.              | Stores diagnostic logs related to messages that failed processing, including details on failure reasons and retry counts.   | Used in development to test how failed messages are handled, retried, and logged, ensuring that they are properly routed to the DLQ. | Regularly reviewed and maintained to ensure DLQ messages are addressed promptly and avoid buildup of unresolved failed messages.                                      |
| **Azure SQL**                | Stores processed message metadata and integration results for reporting purposes. Enables querying of logs and messages for diagnostic and business insights.              | Logs processed messages, metadata, and analytics on message integration flows for monitoring in Power BI and other reporting tools.     | Database     | Deployed using Terraform to create a structured database schema for storing message metadata, processed logs, and integration results. | Captures detailed diagnostic logs for message processing and data integration flows, enabling post-mortem analysis.          | Used in development to store and query logs and message metadata to ensure accuracy in message flow and integration logic.  | Monitored for performance and query optimization to ensure that stored logs and metadata can be accessed efficiently and without delays.                                |
| **Power BI**                 | Generates real-time dashboards for tracking the flow of logs, messages, and system integration performance, including DLQ monitoring and message delivery analytics.         | Queries data from Azure SQL and generates visual reports on the number of logs created, message flow statistics, and DLQ messages.      | Analytics    | Integrated into CI/CD pipelines to automatically refresh dashboards based on the latest data from SQL and logs captured from queues.  | Captures visual reports based on diagnostic logs, showing trends in message delivery, retries, failures, and DLQ metrics.    | Used to visualize the system integration performance, validate message flows, and analyze data during development.         | Maintained by ensuring dashboards are regularly refreshed and updated with the latest logs and message delivery statistics.                                            |
