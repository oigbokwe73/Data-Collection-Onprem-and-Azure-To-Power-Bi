# Data-Collection-Onprem-and-Azure-To-Power-Bi
Data Collection of Logs from Onprem and Azure for reporting through Power BI
import pandas as pd

| **Azure Resource**                | **Purpose**                                                                                                            | **Use Case**                                  | **Category**                    | **Diagnostics Logs**                               | **Development**                       | **Maintenance**                         |
|------------------------------------|------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|----------------------------------|---------------------------------------------------|---------------------------------------|-----------------------------------------|
| **Azure Function App**             | Runs serverless code that triggers based on events, such as timer, blob, or EventHub. Used for log parsing and ingestion. | Collect and parse logs from Blob Storage, write to SQL or EventHub. | Log Collection, Monitoring, Automation | Tracks Function execution, failures, and events. | Develop code logic to handle log ingestion, parsing, and transformations. | Scale based on load, ensure uptime, and monitor performance. |
| **Azure Storage**                  | Provides durable, scalable cloud storage for logs, files, and other data.                                                | Store raw log data or diagnostics logs from applications and services. | Log Storage, Backup                         | Tracks storage access and transactions.             | Develop Terraform scripts to provision storage for log data. | Monitor storage capacity and optimize for cost. |
| **Azure Blob Containers**          | Used to store large amounts of unstructured log data, such as application or diagnostics logs.                           | Capture logs, trigger Azure Function to process and store logs. | Log Storage, Data Ingestion              | Capture data access, errors, and storage transactions. | Store and retrieve logs efficiently using blob access tiers. | Manage blob retention policies and archive old data. |
| **Azure Storage File Share**       | Provides shared file storage for applications to log data or other files, accessed via SMB or REST APIs.                | Store logs collected from MoveIt (SFTP) running in Azure Container Instance. | Log Storage, File Sharing                  | Captures access logs, tracks file operations and changes. | Develop automation scripts to copy logs to Blob for further processing. | Monitor usage and file share performance, manage quotas. |
| **Virtual Network (VNet)**         | Provides isolation and networking for secure communication between Azure resources like Function Apps, Storage, SQL, etc. | Secure communication between Azure resources for log processing. | Networking, Security, Isolation            | Logs traffic, security group access, and connection attempts. | Define network setup for isolating critical resources like storage and SQL. | Maintain security policies, monitor VNet traffic for anomalies. |
| **User Defined Route Table (UDR)** | Custom routing rules for controlling traffic flow between subnets or Azure services.                                      | Direct traffic for secure communication to Azure services (e.g., SQL, Blob, EventHub). | Networking, Security, Routing             | Logs route usage, traffic anomalies, and access violations. | Develop custom routes for log ingestion services, optimize for performance. | Update routes as architecture changes, monitor traffic patterns. |
| **Azure EventHub**                 | Real-time data ingestion platform, ideal for processing large volumes of logs and streaming them to downstream services. | Stream logs for real-time analysis and monitoring in Power BI or other services. | Real-time Data Processing, Log Ingestion | Tracks events sent, processing failures, and throughput. | Develop ingestion pipelines with Terraform and integrate EventHub with Function Apps for processing. | Monitor event latency, adjust partitions for performance. |
| **Azure SQL Database**             | Relational database used for structured storage of parsed logs and analytics-ready data.                                 | Store parsed log data for reporting and analysis in Power BI. | Structured Data Storage, Reporting         | SQL performance metrics, query execution times, and errors. | Develop data schemas to store and organize logs for fast querying in Power BI. | Regularly optimize database, index maintenance, and backup. |
| **Power BI**                       | Visualizes log data, offers reporting and dashboards for log analysis, business intelligence, and monitoring.            | Generate real-time or near-real-time dashboards from collected logs. | Reporting, Business Intelligence          | Tracks refresh cycles, report load times, and data connector errors. | Develop Power BI data models that connect to Azure SQL, EventHub, or Blob storage. | Manage report refresh schedules, ensure report availability. |
| **Azure DevOps (CI/CD) with Terraform** | Manages Infrastructure as Code (IaC) for automated provisioning and deployment of resources using Terraform.              | Automate provisioning of Azure resources (Blob, EventHub, SQL, etc.) for log ingestion. | Automation, CI/CD                           | Track deployment logs, build failures, and pipeline execution times. | Develop and test Terraform scripts for automated provisioning of resources. | Ensure Terraform scripts are updated as resources evolve, monitor pipeline success rates. |

